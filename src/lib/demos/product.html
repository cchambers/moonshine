<head>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Data-Driven Belk Product Demo</title>
</head>

<sh-svglib></sh-svglib>

<div class="docs">
  <div class="contain">
    <div class="srow margin-y">
      <div class="scol-3-4 pad-r-little text-right">
        Choose a demo product:
      </div>
      <div class="scol-1-4 pad-r">
        <sh-combo vce-cloak variant="primary" unique-id="product-demo">
          <ul slot="options" hidden>
            <li value="0" selected>PFG Long Sleeve</li>
            <li value="1">Big Blue Bus</li>
            <li value="2">Giant Whistle</li>
            <li value="3">Fishing Shirt</li>
            <li value="4">Kim Rogers Shirt</li>
          </ul>
        </sh-combo>
      </div>
    </div>

    <belk-product vce-cloak unique-id="demo" variant="add"></belk-product>
    <sh-modal
      unique-id="pdp-size"
      variant="tertiary"
      confirmation-events
      header="size"
      open-trigger-event="show-size-modal">
      <div>
        <belk-modal-options unique-id="size"></belk-modal-options>
      </div>
      <div slot="footer">
        <sh-button
          variant="primary"
          full
          affirm-trigger
          close-trigger>
          Select Size
        </sh-button>
      </div>
    </sh-modal>
    <sh-modal
      unique-id="pdp-color"
      variant="tertiary"
      confirmation-events
      header="color"
      open-trigger-event="show-color-modal">
      <div>
        <belk-modal-options unique-id="color"></belk-modal-options>
      </div>
      <div slot="footer">
        <sh-button
          variant="primary"
          full
          affirm-trigger
          close-trigger>
          Select Color
        </sh-button>
      </div>
    </sh-modal>
  </div>
</div>
<script>
  const data = [
    {
      name: "default",
      product: {
        "title": "PFG Long Sleeve Button Down Bahama Shirt",
        "url": "https://www.belk.com/p/columbia-pfg-long-sleeve-button-down-bahama-shirt/18015461396561.html?_br_psugg_q=shirts",
        "price": 44.99,
        "pid": "8015461396561",
        "reviews": ["3.5"],
        "brand": "Columbia",
        "sale_price_range": [42.00, 42.00],
        "sale_price": 42.00,
        "price_range": [44.99, 44.99],
        "images": ["https://placehold.co/400x800", "https://placehold.co/300x600", "https://placehold.co/400x500", "https://placehold.co/300x300", "https://placehold.co/700x300", "https://placehold.co/100x1000", "https://placehold.co/300x1000"],
        "thumb_image": "https://belk.scene7.com/is/image/Belk?layer=0&src=1801546_1396561_A_100_T10L00&layer=comp&&color_id=100284626987",
        "sizes": ["S", "M", "L"],
        "promotions": [
          {
            "type": "PYG",
            "promoId": "wk32_pyg_origins_090822_091822",
            "message": "Free Full-Size Serum with $85 Origins Purchase.",
            "isPreOrderPromo": false,
            "bonusProductId": "5900055PMCY90",
          }
        ],
        "frequency": [
          { 
            name: "60 Days",
            value: 60,
          },
          { 
            name: "30 Days",
            value: 30,
          },
          { 
            name: "15 Days",
            value: 15,
          },
          { 
            name: "10 Days",
            value: 10,
          },
          { 
            name: "5 Days",
            value: 5,
          },
          { 
            name: "Every Day",
            value: 1,
          }
        ],
        "colors": [{
          name: "Turtle",
          colorvalue: "332334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_332_T10L00&layer=comp",
        }, {
          name: "Cow",
          colorvalue: "770334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_770_T10L00&layer=comp",
        }, {
          name: "Fish",
          colorvalue: "421334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_421_T10L00&layer=comp",
        }, {
          name: "Horse",
          colorvalue: "813334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_813_T10L00&layer=comp",
        }, {
          name: "Penguin",
          colorvalue: "425334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_425_T10L00&layer=comp",
        }, {
          name: "Bat",
          colorvalue: "340334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_340_T10L00&layer=comp",
        }, {
          name: "Ostrich",
          colorvalue: "433334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_433_T10L00&layer=comp",
        }, {
          name: "Squirrel",
          colorvalue: "645334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_645_T10L00&layer=comp",
        }, {
          name: "Kitty Cat",
          colorvalue: "811334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_811_T10L00&layer=comp",
        }, {
          name: "Animal",
          colorvalue: "499334735429",
          src: "https://belk.scene7.com/is/image/Belk?layer=0&src=3201550_3553827_A_499_T10L00&layer=comp",
        }]
      },
    },
    {
      name: "something else",
      product: {
        "title": "Big Blue Bus",
      "url": "https://www.belk.com/p/big-blue-bus-in-here/18015461396561.html?_br_psugg_q=buses",
        "price": 200.99,
        "qty": 3,
        "pid": "8015461396561",
        "reviews": ["2"],
        "brand": "Freightliner",
        "sale_price_range": [200.99, 200.99],
        "sale_price": 199.99,
        "price_range": [199.99, 199.99],
        "images": ["https://placehold.co/200x200", "https://placehold.co/100x600", "https://placehold.co/400x500"],
        "thumb_image": "https://belk.scene7.com/is/image/Belk?layer=0&src=1801546_1396561_A_100_T10L00&layer=comp&&color_id=100284626987",
        "sizes": ["L"],
        "promotions": [
          {
            "type": "PYG",
            "promoId": "wk32_pyg_origins_090822_091822",
            "message": "Two Full Size Swinging Doors w/ Operating Handle ðŸ’¦",
            "isPreOrderPromo": false,
            "bonusProductId": "5900055PMCY90",
          },
          {
            "type": "PYG",
            "promoId": "wk32_pyg_origins_090822_091822",
            "message": "Brown Leather Seats included with every purchase",
            "isPreOrderPromo": false,
            "bonusProductId": "5900055PMCY90",
          }
        ],
        "frequency": [
          { 
            name: "60 Days",
            value: 60,
          },
          { 
            name: "30 Days",
            value: 30,
          },
          { 
            name: "15 Days",
            value: 15,
          }
        ]
      },
    },
    {
      name: "Giant Whistle",
      product: {
        "title": "Giant Whistle",
        "url": "https://www.belk.com/p/dat-giant-whistle/132.html?_br_psugg_q=toys",
        "price": 2.99,
        "qty": 1,
        "pid": "8015461396561",
        "reviews": ["5"],
        "brand": "Whistlin Whistles",
        "sale_price_range": [2.99, 2.99],
        "sale_price": 1.00,
        "price_range": [1.00, 1.00],
        "images": ["https://placehold.co/400x440"],
        "thumb_image": "https://belk.scene7.com/is/image/Belk?layer=0&src=1801546_1396561_A_100_T10L00&layer=comp&&color_id=100284626987",
        "sizes": ["S"],
      },
    },
    {
      name: "Long Sleeve Fishing",
      product: {
        "sale_price": 49.5,
        "price": 49.5,
        "qty": 200,
        "reviews": [
          "4.5"
        ],
        "thumb_image": "https://belk.scene7.com/is/image/Belk?layer=0&src=1804462_13523YRW000000_A_453&&color_id=453384593799",
        "price_range": [
          49.5,
          49.5
        ],
        "brand": "Ocean + Coast\u00ae",
        "title": "Women's Long Sleeve Fishing Shirt",
        "sale_price_range": [
          49.5,
          49.5
        ],
        "pid": "180446213523YRW000000",
        "url": "https://www.belk.com/p/ocean-coast-womens-long-sleeve-fishing-shirt/180446213523YRW000000.html?_br_psugg_q=womens+shirts",
        "images": ["https://placehold.co/200x200", "https://placehold.co/100x600", "https://placehold.co/400x500"],
        "sizes": ["XS", "S", "M", "L", "XXXXL"],
      },
    },
    {
      name: "Kim Rogers",
      product: {
        "sale_price": 12.99,
        "price": 24.0,
        "sizes": ["28A","28B","28C","28D","28DD","30A","30B","30C","30D","30DD","32A","32B","32C","32D","32DD","34A","34B","34C","34D","34DD","36A","36B","36C","36D","36DD","38A","38B","38C","38D","38DD","40A","40B","40C","40D","40DD","42A","42B","42C","42D","42DD","44A","44B","44C","44D","44DD","46A","46B","46C","46D","46DD"],
        "reviews": [
          "4.7333"
        ],
        "thumb_image": "https://belk.scene7.com/is/image/Belk?layer=0&src=1804353_14622SPM000000_A_422&&color_id=422367422031",
        "price_range": [
          24.0,
          24.0
        ],
        "brand": "Kim Rogers\u00ae",
        "title": "Women's Short Sleeve Cotton T-Shirt",
        "sale_price_range": [
          7.2,
          12.99
        ],
        "qty": 10,
        "pid": "180435314622SPM000000",
        "url": "https://www.belk.com/p/kim-rogers-womens-short-sleeve-cotton-t-shirt/180435314622SPM000000.html?_br_psugg_q=womens+shirts",
        "images": ["https://placehold.co/200x200", "https://placehold.co/100x600", "https://placehold.co/400x500"],
      }
    },
  ]

  setTimeout(() => {
    sh.emit('update-product-demo', data[0].product);
  }, 1000);

  document.addEventListener('combo-value-changed', (e) => {
    const info = e.detail;
    const which = parseInt(info.data.value);
    sh.emit('update-product-demo', data[which].product);
  })

  document.addEventListener('modal-affirmed', (e) => {
    console.log(e);
  })

</script>
